!function(a){"use strict";"function"===typeof define&&define.amd?define(["jquery"],a):"undefined"!==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){Date.now||(Date.now=function(){return(new Date).getTime()}),window.requestAnimationFrame||function(){"use strict";for(var a=["webkit","moz"],b=0;b<a.length&&!window.requestAnimationFrame;++b){var c=a[b];window.requestAnimationFrame=window[c+"RequestAnimationFrame"],window.cancelAnimationFrame=window[c+"CancelAnimationFrame"]||window[c+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var d=0;window.requestAnimationFrame=function(a){var b=Date.now(),c=Math.max(d+16,b);return setTimeout(function(){a(d=c)},c-b)},window.cancelAnimationFrame=clearTimeout}}();var b=function(){for(var a="transform WebkitTransform MozTransform OTransform msTransform".split(" "),b=document.createElement("div"),c=0;c<a.length;c++)if(b&&void 0!==b.style[a[c]])return a[c];return!1}(),c=function(){if(!window.getComputedStyle)return!1;var b,a=document.createElement("p"),c={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};(document.body||document.documentElement).insertBefore(a,null);for(var d in c)void 0!==a.style[d]&&(a.style[d]="translate3d(1px,1px,1px)",b=window.getComputedStyle(a).getPropertyValue(c[d]));return(document.body||document.documentElement).removeChild(a),void 0!==b&&b.length>0&&"none"!==b}(),d=navigator.userAgent.toLowerCase().indexOf("android")>-1,e=[],f=function(){function c(c,f){var h,g=this;g.$item=a(c),g.defaults={speed:.5,imgSrc:null,imgWidth:null,imgHeight:null,enableTransform:!0,zIndex:-100},h=g.$item.data("jarallax")||{},g.options=a.extend({},g.defaults,h,f),g.options.speed=Math.min(1,Math.max(0,parseFloat(g.options.speed))),g.instanceID=b++,g.image={src:g.options.imgSrc||null,$container:null,$item:null,width:g.options.imgWidth||null,height:g.options.imgHeight||null,useImgTag:d},g.initImg()&&(g.init(),e.push(g))}var b=0;return c}();f.prototype.initImg=function(){var a=this;return null===a.image.src&&(a.image.src=a.$item.css("background-image").replace(/^url\(['"]?/g,"").replace(/['"]?\)$/g,"")),a.image.src&&"none"!==a.image.src?!0:!1},f.prototype.init=function(){var b=this,c={position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden","pointer-events":"none",transition:"transform linear -1ms, -webkit-transform linear -1ms"},d={position:"fixed"};b.image.$container=a("<div>").css(c).css({visibility:"hidden","z-index":b.options.zIndex}).attr("id","jarallax-container-"+b.instanceID).prependTo(b.$item),b.image.useImgTag?(b.image.$item=a("<img>").attr("src",b.image.src),d=a.extend({},c,d)):(b.image.$item=a("<div>"),d=a.extend({"background-position":"50% 50%","background-repeat":"no-repeat no-repeat","background-image":"url("+b.image.src+")"},c,d)),b.image.$item.css(d).prependTo(b.image.$container),b.getImageSize(b.image.src,function(a,c){b.image.width=a,b.image.height=c,window.requestAnimationFrame(function(){b.coverImage(),b.clipContainer(),b.onScroll()}),b.$item.data("jarallax-original-styles",b.$item.attr("style")),setTimeout(function(){b.$item.css({"background-image":"none","background-attachment":"scroll","background-size":"auto"})},0)})},f.prototype.destroy=function(){for(var b=this,c=0,d=e.length;c<d;c++)if(e[c].instanceID===b.instanceID){e.splice(c,1);break}a("head #jarallax-clip-"+b.instanceID).remove(),b.$item.attr("style",b.$item.data("jarallax-original-styles")),b.$item.removeData("jarallax-original-styles"),b.image.$container.remove(),delete b.$item[0].jarallax},f.prototype.round=function(a){return Math.floor(100*a)/100},f.prototype.getImageSize=function(a,b){if(!a||!b)return!1;var c=new Image;c.onload=function(){b(c.width,c.height)},c.src=a},f.prototype.clipContainer=function(){var b=this,c=b.image.$container.outerWidth(!0),d=b.image.$container.outerHeight(!0),e=a("head #jarallax-clip-"+b.instanceID);e.length||(a("head").append('<style type="text/css" id="jarallax-clip-'+b.instanceID+'"></style>'),e=a("head #jarallax-clip-"+b.instanceID));var f=["#jarallax-container-"+b.instanceID+" {","   clip: rect(0px "+c+"px "+d+"px 0);","   clip: rect(0px, "+c+"px, "+d+"px, 0);","}"].join("\n");e[0].styleSheet?e[0].styleSheet.cssText=f:e.html(f)},f.prototype.coverImage=function(){var b=this;if(b.image.width&&b.image.height){var i,j,c=b.image.$container.outerWidth(!0),d=b.image.$container.outerHeight(!0),e=a(window).outerWidth(!0),f=a(window).outerHeight(!0),g=b.image.width,h=b.image.height,k={width:Math.max(e,c)*Math.max(b.options.speed,1),height:Math.max(f,d)*Math.max(b.options.speed,1)};k.width/k.height>g/h?(i=k.width,j=k.width*h/g):(i=k.height*g/h,j=k.height),b.image.useImgTag?(k.width=b.round(i),k.height=b.round(j),k.marginLeft=b.round(-(i-c)/2),k.marginTop=b.round(-(j-d)/2)):k.backgroundSize=b.round(i)+"px "+b.round(j)+"px",b.image.$item.css(k)}},f.prototype.onScroll=function(){var d=this;if(d.image.width&&d.image.height){var e=a(window).scrollTop(),f=a(window).height(),g=d.$item.offset().top,h=d.$item.outerHeight(!0),i={visibility:"visible",backgroundPosition:"50% 50%"};if(!(g+h<e||g>e+f)){var j=-(e-g)*d.options.speed;j=d.round(j),b&&d.options.enableTransform?(i.transform="translateY("+j+"px)",c&&(i.transform="translate3d(0, "+j+"px, 0)")):i.backgroundPosition="50% "+j+"px",d.image.$item.css(i)}}},function(){a(window).on("scroll.jarallax",function(){window.requestAnimationFrame(function(){for(var a=0,b=e.length;a<b;a++)e[a].onScroll()})});var b;a(window).on("resize.jarallax load.jarallax",function(){clearTimeout(b),b=setTimeout(function(){window.requestAnimationFrame(function(){for(var a=0,b=e.length;a<b;a++){var c=e[a];c.coverImage(),c.clipContainer(),c.onScroll()}})},100)})}();var g=a.fn.jarallax;a.fn.jarallax=function(){var g,a=this,b=arguments[0],c=Array.prototype.slice.call(arguments,1),d=a.length,e=0;for(e;e<d;e++)if("object"===typeof b||"undefined"===typeof b?a[e].jarallax=new f(a[e],b):g=a[e].jarallax[b].apply(a[e].jarallax,c),"undefined"!==typeof g)return g;return this},a.fn.jarallax.noConflict=function(){return a.fn.jarallax=g,this},a(document).on("ready.data-jarallax",function(){a("[data-jarallax]").jarallax()})});